<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- tailwind cdn link -->
    <link href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <!-- add blow three cdn link for run autoserch feature -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-3-typeahead/4.0.2/bootstrap3-typeahead.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/clockpicker/dist/jquery-clockpicker.min.css">
    <script src="https://cdn.jsdelivr.net/npm/clockpicker/dist/jquery-clockpicker.min.js"></script>
</head>
<body>
    <nav class="bg-red-800 text-white text-xl flex items-center justify-between px-4 py-3">
        <div class="flex items-center">
          <img class="w-16 h-16 mr-4" src="/Source code/Travellogo(1).png" alt="Logo">
          <h1 class="font-medium">Flightoh</h1>
        </div>
        <div class="flex items-center">
          <a class="text-white hover:text-gray-500 mr-4" href="#">Hotel</a>
          <div class="relative">
            <a class="text-white hover:text-gray-500 mr-4" href="#">For Airline</a>
            <div class="absolute hidden rounded-md bg-white">
              <a class="block px-8 py-2 text-md text-gray-700 hover:bg-gray-100" href="#">Add Flight</a>
              <a class="block px-8 py-2 text-md text-gray-700 hover:bg-gray-100" href="#">Delete Flight</a>
              <a class="block px-8 py-2 text-md text-gray-700 hover:bg-gray-100" href="#">Update Flight</a>
            </div>
          </div>
          <a class="text-white hover:text-gray-500 mr-4" href="#">Customer Support</a>
          <div class="relative">
            <button class="flex items-center justify-between w-full px-4 py-2 text-sm font-medium text-white bg-gray-700  rounded-md hover:bg-gray-600 focus:outline-none focus:ring focus:ring-gray-300 focus:ring-opacity-50" onclick="toggleDropdown()">
              <img class="rounded-full w-14" src="https://mdbcdn.b-cdn.net/img/new/avatars/2.webp" alt="Avatar">
              <svg id="dropdown-arrow" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10.707 14.707a1 1 0 0 1-1.414 0l-5-5a1 1 0 0 1 1.414-1.414L10 12.586l4.293-4.293a1 1 0 1 1 1.414 1.414l-5 5z" clip-rule="evenodd" />
              </svg>
            </button>
            <div id="dropdown-menu" class="absolute z-10  top-full  mt-2 py-2 bg-white rounded-md shadow-lg hidden">
              <a href="#" class="px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Link 1</a>
              <a href="#" class="px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Link 2</a>
              <a href="#" class="px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Link 3</a>
            </div>
          </div>
        </div>
    </nav>
    <div class="container mx-auto py-6 bg-purple-400 w-8/12">
        <div class="p-4 md:p-8 max-w-xl mx-auto">
            <form class=" bg-white shadow-lg rounded-lg px-4 py-6 md:p-8" id="update_form" 
            action="/manageflight/add/success/{{Airline_id}}/" method="POST">
              {% csrf_token %}
              <h2 class="text-xl font-medium mb-4">flight detail</h2>
              <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2" for="routes">Routes</label>
                <input class="border border-gray-400 p-2 w-full rounded-lg" type="text" id="routes" name="routes" placeholder="Enter Routes">
              </div>
              <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2" for="distance">Distance between airports</label>
                <input class="border border-gray-400 p-2 w-full rounded-lg" type="text" id="distance" name="distance" placeholder="Enter Distance">
                <span class="text-red-500 text-md font-bold block" id="dist_error"></span>
              </div>
              <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2" for="total_tickets">Total Tickets</label>
                <input class="border border-gray-400 p-2 w-full rounded-lg" type="text" id="total_tickets" name="total_tickets" placeholder="Enter Total Tickets">
                <span class="text-red-500 text-md font-bold block" id="ticket_error"></span>
              </div>
              <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2" for="depart_time">Depart Time</label>
                <input class="border border-gray-400 p-2 w-full rounded-lg" type="time"  id="depart_time" name="depart_time">
              </div>
              <button class="bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg" type="submit">Add Flight</button>
            </form>
          </div>
    </div>
</body>
    <script>
    const routes = document.getElementById('routes');
    const distance = document.getElementById('distance');
    const total_tickets = document.getElementById('total_tickets');
    const depart_time = document.getElementById('depart_time');
    const update_form = document.getElementById('update_form');
    const dist_error = document.getElementById('dist_error');
    const ticket_error = document.getElementById('ticket_error');

    update_form.addEventListener('submit',(event) => {
    
    const routes_list = routes.value.split(",")
    const distance_list = distance.value.split(",")

    console.log(distance_list.length+" "+routes_list.length);
    if(distance_list.length!=(routes_list.length-1)){
      dist_error.textContent = "Invalid distance is Exist"
      console.log('pass1');
      event.preventDefault();
    }
    else if(check_str_length(distance_list) || check_str_length(routes_list))
    {
      dist_error.textContent = "Invalid distance is Exist"
      console.log('pass2');
      event.preventDefault();
    }
    else if(total_tickets.value<0)
    {
      ticket_error.textContent = "Didn't assign negative value"
      console.log('pass3');
      event.preventDefault();
    }
    else{
      dist_error.textContent = ""
      console.log('pass4');
    }
    event.preventDefault();
  });
    </script>
</html>